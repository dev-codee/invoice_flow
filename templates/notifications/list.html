{% extends 'base.html' %}
{% block title %}Notifications{% endblock %}
{% block content %}
<div class="page-header">
  <div class="page-header-left">
    <h1 class="page-title">Notifications</h1>
    <p class="page-subtitle">Stay up to date with your invoices and account activity</p>
  </div>
  {% if notifications %}
  <div class="page-header-actions">
    <a href="{% url 'notifications:mark_all_read' %}" class="btn btn-secondary btn-sm"><i class="bi bi-check2-all"></i> Mark all read</a>
  </div>
  {% endif %}
</div>

<div class="card" style="max-width:680px;">
  {% for notif in notifications %}
  <div style="display:flex;gap:14px;padding:16px 20px;border-bottom:1px solid var(--border-subtle);background:{% if not notif.is_read %}rgba(99,102,241,0.03){% else %}transparent{% endif %};transition:background 0.15s;">
    <div style="width:36px;height:36px;border-radius:10px;background:{% if not notif.is_read %}var(--brand-50){% else %}#f3f4f6{% endif %};display:flex;align-items:center;justify-content:center;flex-shrink:0;">
      <i class="bi bi-bell{% if not notif.is_read %}-fill{% endif %}" style="font-size:15px;color:{% if not notif.is_read %}var(--brand-500){% else %}var(--text-muted){% endif %};"></i>
    </div>
    <div style="flex:1;min-width:0;">
      <div style="font-size:13.5px;{% if not notif.is_read %}font-weight:600;color:var(--text-primary){% else %}color:var(--text-secondary){% endif %};">{{ notif.message }}</div>
      <div style="font-size:11.5px;color:var(--text-muted);margin-top:3px;">{{ notif.created_at|timesince }} ago</div>
    </div>
    {% if not notif.is_read %}
    <div style="flex-shrink:0;">
      <a href="{% url 'notifications:mark_read' notif.pk %}" class="btn btn-ghost btn-sm" style="padding:4px 10px;">Mark read</a>
    </div>
    {% endif %}
  </div>
  {% empty %}
  <div class="empty-state">
    <i class="bi bi-bell empty-state-icon"></i>
    <h3>You're all caught up</h3>
    <p>No new notifications</p>
  </div>
  {% endfor %}
</div>
{% endblock %}
